<!-- ðŸ” Barre de recherche + bouton ajouter -->
<div class="search-bar">
  <input
    type="text"
    placeholder="Rechercher par titre..."
    [(ngModel)]="searchTitle"
  />

  <input
    type="text"
    placeholder="Rechercher par catÃ©gorie..."
    [(ngModel)]="searchCategory"
  />

  <button
    class="btn btn-primary add-btn"
    routerLink="/sugg/add"
  >
    Ajouter suggestion
  </button>
</div>

<!-- ðŸ“¦ Conteneur principal -->
<div class="container">

  <!-- ðŸ“‹ Liste des suggestions -->
  <div class="suggestion-list">

    <div
      *ngFor="let s of filteredSuggestions"
      class="card"
      [class.refuse]="isRefused(s)"
    >

      <!-- ðŸ§¾ En-tÃªte -->
      <div class="card-header">
        <h3>{{ s.title }}</h3>
        <small class="meta">
          {{ s.category }} â€¢ {{ s.date | date:'longDate' }}
        </small>
      </div>

      <!-- ðŸ“ Description -->
      <p class="desc">
        {{ s.description }}
      </p>

      <!-- âš™ï¸ Pied de carte -->
      <div class="card-footer">
        <span class="status">
          Ã‰tat : {{ s.status }}
        </span>

        <!-- ðŸ”˜ Actions (cachÃ©es si refusÃ©e) -->
        <div class="actions" *ngIf="!isRefused(s)">
          <button (click)="likeSuggestion(s)">
            Like ({{ s.nbLikes }})
          </button>

          <button
            (click)="addToFavorites(s)"
            [disabled]="s.isFavorite"
          >
            Ajouter aux favoris
          </button>
        </div>
      </div>

    </div>
  </div>

  <!-- â­ Favoris -->
  <aside class="favorites">
    <h4>Favoris ({{ favorites.length }})</h4>

    <ul *ngIf="favorites.length > 0; else noFav">
      <li *ngFor="let f of favorites">
        <strong>{{ f.title }}</strong>

        <button
          class="remove"
          (click)="removeFromFavorites(f)"
        >
          Retirer
        </button>

        <div class="fav-meta">
          <small>
            {{ f.category }} â€¢ {{ f.date | date:'shortDate' }}
          </small>
          <span>
            Likes : {{ f.nbLikes }}
          </span>
        </div>
      </li>
    </ul>

    <!-- âŒ Aucun favori -->
    <ng-template #noFav>
      <p>Aucun favori pour le moment.</p>
    </ng-template>
  </aside>

</div>
